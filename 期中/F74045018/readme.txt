學號：F74045018

姓名：廖其忻



接收端/發送端		PIN腳

左馬達（左邊）		2

左馬達（右邊）		3

右馬達（左邊）		4

右馬達（右邊）		5

前超音波感測器TRIG	6

前超音波感測器ECHO	7

左超音波感測器TRIG	8

左超音波感測器ECHO	9

右超音波感測器TRIG	10

右超音波感測器ECHO	11



危險距離：int adjD=4cm

安全距離：int avD=12cm

用來記錄上一次偵測到的距離的陣列：float rf[100], rl[100], rr[100]

用來記錄轉了什麼彎的陣列：int path[100]



LOOP

{
	
Line 186-201
	
如果：現在從三個方向偵測到的距離跟上一次偵測到的距離完全一樣

	代表：車車卡住了
	
做法：	（1）先後退一點
		
		（2）     （a）如果上一個是向右轉的話
							
			現在向左轉

			（b）如果上一個是向左轉的話
							
				現在向右轉



	Line203
									
	如果：現在前面的距離大於8cm
							
	代表：前面可能有路
								
	做法：	（1）
									
			Line 205-220
								
			如果：前邊的距離大於3000cm
							
			代表：根據超音波感測器的特性，車車正面撞墻了
					
			做法：	（1）	後退一點
								
				（2）	（a）如果上一個是向右轉的話
							  
						現在向右轉
								
					（b）如果上一個是向左轉的話
			
				  		現在向左轉

															
			
			Line222-228
								
			如果：左邊小於危險距離
							
			代表：車車向左邊偏離了
							
			做法：後退一點
向右轉矯正

																																		
			Line230-236
																							如果：右邊小於危險距離
																						代表：車車向右邊偏離了
																						做法：後退一點
向左轉矯正
																																										
																											（2）向前走
																							
		（3）記錄這一次三個方向偵測到的距離

																																												Line 246
																							如果：現在前面的距離小於8cm
																						代表：前面沒有路
																							做法：
																																																Line248-271
	
	如果：左右的距離都小於安全距離
																					代表：遇到死路了
																							做法：（1）左轉180度
																							（2）一直向前走直到左右哪裡有路就轉哪裡

																																												Line273-283
																							如果：左邊的距離都大於安全距離 但右邊的距離都小於安全距離
																		代表：遇到右邊的角落，需要左轉
																					做法：左轉90度

																																															Line285-294
																							如果：右邊的距離都大於安全距離 但左邊的距離都小於安全距離
																		代表：遇到左邊的角落，需要右轉
																					做法：右轉90度

																																															Line296-312
																							如果：左右的距離都大於安全距離
																					代表：遇到T字路口了
																						做法：偵測左右那邊的距離哪裡比較大就轉哪裡
																																											}

